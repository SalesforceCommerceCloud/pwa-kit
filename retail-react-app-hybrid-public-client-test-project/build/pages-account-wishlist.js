"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[505],{26647:(e,n,t)=>{t.d(n,{A:()=>v});var l=t(64180),a=t(18801),r=t(77810),o=t(17015),i=t(60097),c=t(75011),s=t(25610),A=t(28387),u=t(40133),d=t(60505),m=t(14893),b=t(75826),p=t.n(b),L=t(10575),y=t(34692);const f=["dialogTitle","confirmationMessage","primaryActionLabel","primaryActionAriaLabel","alternateActionLabel","alternateActionAriaLabel","hideAlternateAction","onPrimaryAction","onAlternateAction"],E=e=>{let{dialogTitle:n=L.Gz.dialogTitle,confirmationMessage:t=L.Gz.confirmationMessage,primaryActionLabel:b=L.Gz.primaryActionLabel,primaryActionAriaLabel:p=L.Gz.primaryActionAriaLabel,alternateActionLabel:E=L.Gz.alternateActionLabel,alternateActionAriaLabel:v=L.Gz.alternateActionAriaLabel,hideAlternateAction:g=!1,onPrimaryAction:h=o.lQ,onAlternateAction:O=o.lQ}=e,_=(0,a.A)(e,f);const{formatMessage:C}=(0,y.A)(),j=()=>{O(),_.onClose()};return r.createElement(i.L,(0,l.A)({isOpen:_.isOpen,isCentered:!0,onClose:j},_),r.createElement(c.m,null),r.createElement(i.E,null,r.createElement(s.r,null,C(n)),r.createElement(A.c,null,r.createElement(u.E,null,C(t))),r.createElement(d.j,null,g?null:r.createElement(m.$,{variant:"ghost",mr:3,"aria-label":C(v),onClick:j},C(E)),r.createElement(m.$,{variant:"solid",onClick:()=>{h(),_.onClose()},"aria-label":C(p)},C(b)))))};E.propTypes={isOpen:p().bool.isRequired,onOpen:p().func.isRequired,onClose:p().func.isRequired,dialogTitle:p().object,confirmationMessage:p().object,primaryActionLabel:p().object,primaryActionAriaLabel:p().object,alternateActionLabel:p().object,alternateActionAriaLabel:p().object,onPrimaryAction:p().func,onAlternateAction:p().func,hideAlternateAction:p().bool};const v=E},71878:(e,n,t)=>{t.d(n,{A:()=>b});var l=t(64180),a=t(28407),r=t(77810),o=t(75826),i=t.n(o),c=t(90031),s=t(34186),A=t(26647),u=t(30916),d=t(17015);const m=({productIds:e=[],productItems:n=[],handleUnavailableProducts:t=d.lQ})=>{const o=(0,r.useRef)(null),i=e.length?e:n.map((e=>e.productId));(0,c.useProducts)({parameters:{ids:null==i?void 0:i.join(","),allImages:!0}},{enabled:(null==i?void 0:i.length)>0,onSuccess:e=>{var t;const l=[],a=[];null===(t=e.data)||void 0===t||t.forEach((({id:e,inventory:t})=>{if(l.push(e),n.length){const l=n.find((n=>n.productId===e));null!=l&&l.type||null!=t&&t.orderable&&!(null!=t&&t.orderable&&(null==l?void 0:l.quantity)>t.stockLevel)||a.push(e)}}));const r=i.filter((e=>!l.includes(e)||a.includes(e)));o.current=r}});const m=(0,u.j)();return(0,r.useEffect)((()=>{var e;(null===(e=o.current)||void 0===e?void 0:e.length)>0&&m.onOpen()}),[o.current]),r.createElement(A.A,(0,l.A)({"data-testid":"unavailable-product-modal",closeOnEsc:!1,closeOnOverlayClick:!1},s.F1,{hideAlternateAction:!0,onPrimaryAction:(0,a.A)((function*(){yield t(o.current),o.current=null,m.onClose()})),onAlternateAction:()=>{}},m))};m.propTypes={productItems:i().array,productIds:i().array,handleUnavailableProducts:i().func};const b=m}}]);