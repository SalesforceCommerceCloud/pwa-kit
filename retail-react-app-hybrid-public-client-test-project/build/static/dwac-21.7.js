!function(t){if(void 0!==t.ac){var n,o=function(){if("false"===t.ac._analytics_enabled)return{enabled:!1,dwEnabled:!1};var e=l((function(e){return e.length>5&&"dwac_"===e.substring(0,5)}));if(null==e)return{visitorID:"__ANNONYMOUS__",customer:"__ANNONYMOUS__",siteCurrency:"",sourceCode:"",enabled:"true",timeZone:t.ac._timeZone,dwEnabled:"true",encoding:"ISO-8859-1"};var n=e.split("|");return{visitorID:n[0],repository:n[1],customer:n[2],sourceCode:n[3],siteCurrency:n[4],enabled:"true"==n[5],timeZone:n[6],dwEnabled:"true"==n[7],encoding:"ISO-8859-1"}}(),r=!1,i=null,a=new v,u=new v,c=new v,d=function(){if(null!=t.ac._analytics){var e={pageInfo:t.ac._category,productImpressions:a,productViews:u,productRecommendations:c,debugEnabled:"true"===l((function(e){return"dwacdebug"===e}))};t.ac._analytics.trackPageViewWithProducts(o,e,null),a.clear(),u.clear(),c.clear(),t.ac._events.length=0}};t.ac.capture=y,t.ac.setDebugEnabled=function(e){var t;"boolean"==typeof e&&(t="dwacdebug="+escape(""+e)+";path=/",document.cookie=t)},t.ac._handleCollectedData=function(){r=!1,t.ac._events.forEach(y),r=!0,g()},t.ac._scheduleDataSubmission=function(){t.ac._submitTimeout&&clearTimeout(t.ac._submitTimeout),t.ac._submitTimeout=setTimeout(t.ac._handleCollectedData,500)},t.ac._setSiteCurrency=function(e){o.siteCurrency=e},n=function(){t.ac._handleCollectedData()},"complete"===document.readyState&&setTimeout(n,1),document.addEventListener?(DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),n()},document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(DOMContentLoaded=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",DOMContentLoaded),n())},document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",n))}function l(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].indexOf("=");if(-1!=o&&e(s(t[n].substring(0,o))))return s(unescape(t[n].substring(o+1)))}return null}function s(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function f(e){for(var t=function(e){return e<32?"":"%"+new Number(e).toString(16).toUpperCase()},n="",o=0;o<e.length;o++){var r=e.charCodeAt(o);r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||46==r||45==r||42==r||95==r?n+=e.charAt(o):32==r?n+="+":r<128?n+=t(r):r>=128&&r<2048?(n+=t(r>>6|192),n+=t(63&r|128)):r>=2048&&r<65536?(n+=t(r>>12|224),n+=t(r>>6&63|128),n+=t(63&r|128)):r>=65536&&(n+=t(r>>18|240),n+=t(r>>12&63|128),n+=t(r>>6&63|128),n+=t(63&r|128))}return n}function v(){var e=[];this.getEntries=function(){return e},this.put=function(t,n){for(var o=0;o<e.length;o++)if(e[o].key==t)return void(e[o].value=n);e.push({key:t,value:n})},this.putAll=function(e){for(var t=e.getEntries(),n=0;n<t.length;n++)this.put(t[n].key,t[n].value)},this.get=function(t){for(var n=0;n<e.length;n++)if(e[n].key==t)return e[n].value;return null},this.clear=function(){e.length=0},this.isEmpty=function(){return 0==e.length}}function p(t,n){for(e in n)void 0!==t[e]&&(n[e]=t[e]);return n}function g(){r&&(i&&clearTimeout(i),i=setTimeout(d,500))}function m(t,n){if(void 0!==t){var o={};for(e in t){for(var r=!1,i=0;i<n.length&&!r;i++){var a=n[i];e===a&&"string"==typeof t[a]&&(r=!0)}o[e]=r?f(t[e]):t[e]}return o}}function h(e){return"object"==typeof e&&(e.type===t.ac.EV_PRD_SEARCHHIT||e.type===t.ac.EV_PRD_SETPRODUCT?function(e){if("object"!=typeof e)return!1;var t=p(e,{id:null});return"string"==typeof t.id&&null==a.get(t.id)&&(a.put(t.id,t),!0)}(m(e,["id"])):e.type===t.ac.EV_PRD_DETAIL?function(e){if("object"!=typeof e)return!1;var t=p(e,{id:null});return"string"==typeof t.id&&null==u.get(t.id)&&(u.put(t.id,t),!0)}(m(e,["id"])):e.type===t.ac.EV_PRD_RECOMMENDATION&&function(e){if("object"!=typeof e)return!1;var t=p(e,{id:null});return"string"==typeof t.id&&null==c.get(t.id)&&(c.put(t.id,t),!0)}(m(e,["id"])))}function y(e){if(void 0!==e){if("object"==typeof e)if(e instanceof Array)for(var t=0;t<e.length;t++)h(e[t]);else e[0]instanceof Object?h(e[0]):h(e);r&&g()}}}(window.dw||{});